{"id":"e6a84734-6a7d-454b-b7c3-384a5919fa44","revision":0,"last_node_id":67,"last_link_id":91,"nodes":[{"id":39,"type":"LLM","pos":[1720,-200],"size":[443.4000244140625,630],"flags":{},"order":9,"mode":4,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"CUSTOM","link":64},{"label":"images","localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"label":"extra_parameters","localized_name":"extra_parameters","name":"extra_parameters","shape":7,"type":"DICT","link":null},{"label":"system_prompt_input","name":"system_prompt_input","shape":7,"type":"STRING","widget":{"name":"system_prompt_input"},"link":70},{"label":"user_prompt_input","name":"user_prompt_input","shape":7,"type":"STRING","widget":{"name":"user_prompt_input"},"link":null},{"label":"tools","name":"tools","shape":7,"type":"STRING","widget":{"name":"tools"},"link":null},{"label":"file_content","name":"file_content","shape":7,"type":"STRING","widget":{"name":"file_content"},"link":null},{"label":"user_history","name":"user_history","shape":7,"type":"STRING","widget":{"name":"user_history"},"link":null},{"label":"img_URL","name":"img_URL","shape":7,"type":"STRING","widget":{"name":"img_URL"},"link":null}],"outputs":[{"label":"assistant_response","localized_name":"assistant_response","name":"assistant_response","type":"STRING","slot_index":0,"links":[65]},{"label":"history","localized_name":"history","name":"history","type":"STRING","links":null},{"label":"tool","localized_name":"tool","name":"tool","type":"STRING","links":null},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"reasoning_content","localized_name":"reasoning_content","name":"reasoning_content","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui_llm_party","ver":"05bb10395de19c4db75b3970ba0e3a90888dab38","Node name for S&R":"LLM"},"widgets_values":["","",0.7000000000000001,"enable","disable","disable","enable",1920,"","","","","",100,"",true,"","",false,[false,true],[false,true]]},{"id":40,"type":"ShowText|pysssss","pos":[2240,-220],"size":[500,340],"flags":{},"order":12,"mode":4,"inputs":[{"label":"文本","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":65}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":["","A solitary woman with long, flowing platinum blonde hair stands gracefully in a sun-drenched meadow bathed in a soft, golden hour glow. Her ethereal lace dress, adorned with delicate embroidery, drapes elegantly over her figure, catching the light with a subtle sheen of crystal clarity. Her eyes, framed by long lashes, gaze softly in thought, her gaze reflected in the iridescent surface of a nearby pond where lotus flowers float gently in the water. A gentle breeze rustles the leaves of a nearby tree, creating a soothing symphony of sounds that seem to vibrate through her body. Her surroundings are a tapestry of vibrant wildflowers, their colors shifting with the light, while a faint trail of bees buzzes among the blossoms, adding a touch of life and movement to the serene scene. The atmosphere evokes a deep sense of peace and introspection, captured with impressionistic brushwork that blend the organic beauty of nature with the delicate sensibilities of the woman, creating a harmonious blend of tranquility and depth."]},{"id":45,"type":"RH_LLMAPI_NODE","pos":[1700,540],"size":[400,296],"flags":{},"order":10,"mode":0,"inputs":[{"name":"ref_image","type":"IMAGE","link":null,"label":"ref_image","shape":7},{"name":"role","type":"STRING","link":71,"label":"role","widget":{"name":"role"}}],"outputs":[{"name":"describe","type":"STRING","links":[72],"slot_index":0,"label":"describe"}],"properties":{"Node name for S&R":"RH_LLMAPI_NODE"},"widgets_values":["https://api.siliconflow.cn","sk-vaemmtfbezjrrvuxdrzkwcmpmdnsexgrwgmsyjuhbgcvsmva","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","","一只狗",0.6,1118,"randomize"]},{"id":38,"type":"LLM_api_loader","pos":[1320,-180],"size":[315,130],"flags":{},"order":0,"mode":4,"inputs":[],"outputs":[{"label":"model","localized_name":"model","name":"model","type":"CUSTOM","slot_index":0,"links":[64]}],"properties":{"cnr_id":"comfyui_llm_party","ver":"05bb10395de19c4db75b3970ba0e3a90888dab38","Node name for S&R":"LLM_api_loader"},"widgets_values":["deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","https://api.siliconflow.cn","sk-vaemmtfbezjrrvuxdrzkwcmpmdnsexgrwgmsyjuhbgcvsmva",false]},{"id":51,"type":"Note","pos":[920,80],"size":[210,100],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["两个模块 二选一即可。"],"color":"#232","bgcolor":"#353"},{"id":52,"type":"KSamplerSelect","pos":[2940,460],"size":[210,58],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"label":"采样器","localized_name":"采样器","name":"SAMPLER","shape":3,"type":"SAMPLER","links":[75]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":53,"type":"SamplerCustomAdvanced","pos":[3420,460],"size":[240,326],"flags":{},"order":17,"mode":0,"inputs":[{"label":"噪波生成","localized_name":"噪波","name":"noise","type":"NOISE","link":73},{"label":"引导","localized_name":"引导器","name":"guider","type":"GUIDER","link":74},{"label":"采样器","localized_name":"采样器","name":"sampler","type":"SAMPLER","link":75},{"label":"Sigmas","localized_name":"西格玛","name":"sigmas","type":"SIGMAS","link":76},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":77}],"outputs":[{"label":"输出","localized_name":"Latent","name":"output","shape":3,"type":"LATENT","slot_index":0,"links":[80]},{"label":"降噪输出","localized_name":"降噪Latent","name":"denoised_output","shape":3,"type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":54,"type":"BasicGuider","pos":[2940,720],"size":[161.1999969482422,46],"flags":{},"order":16,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":78},{"label":"条件","localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":79}],"outputs":[{"label":"引导","localized_name":"引导器","name":"GUIDER","shape":3,"type":"GUIDER","slot_index":0,"links":[74]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"BasicGuider"},"widgets_values":[],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":55,"type":"VAEDecode","pos":[3680,460],"size":[140,46],"flags":{},"order":18,"mode":0,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":80},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":81}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[87]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAEDecode"},"widgets_values":[],"color":"#b4676b","bgcolor":"#3f5159"},{"id":56,"type":"RandomNoise","pos":[3180,460],"size":[210,82],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"label":"噪波生成","localized_name":"噪波","name":"NOISE","shape":3,"type":"NOISE","links":[73]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"RandomNoise"},"widgets_values":[1012432310216987,"randomize"],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":57,"type":"LoraLoaderModelOnly","pos":[3360,-120],"size":[315,82],"flags":{},"order":11,"mode":4,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":82}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","shape":3,"type":"MODEL","slot_index":0,"links":[78,86]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["flux_XLabs_lora\\realism_lora_comfy_converted.safetensors",1],"color":"#847aa6"},{"id":58,"type":"CLIPTextEncodeFlux","pos":[3360,0],"size":[420,300],"flags":{},"order":15,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":83},{"label":"CLIP_L","localized_name":"CLIP_L","name":"clip_l","type":"STRING","widget":{"name":"clip_l"},"link":90},{"label":"T5XXL","localized_name":"T5XXL","name":"t5xxl","type":"STRING","widget":{"name":"t5xxl"},"link":91}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","shape":3,"type":"CONDITIONING","slot_index":0,"links":[79]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncodeFlux"},"widgets_values":["a young woman smiling while speaking onstage from segmind, white background with corporate logos blurred out, tech conference","a young woman smiling while speaking onstage from segmind, white background with corporate logos blurred out, tech conference",3.5,[false,true],[false,true]],"color":"#232","bgcolor":"#353"},{"id":59,"type":"BasicScheduler","pos":[2940,560],"size":[210,106],"flags":{},"order":14,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":86}],"outputs":[{"label":"Sigmas","localized_name":"Sigmas","name":"SIGMAS","shape":3,"type":"SIGMAS","links":[76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"BasicScheduler"},"widgets_values":["simple",28,1],"color":"#847aa6","bgcolor":"#2b2f38"},{"id":61,"type":"VAELoader","pos":[2940,240],"size":[315,58],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"localized_name":"VAE","name":"VAE","shape":3,"type":"VAE","slot_index":0,"links":[81]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["FLUX.1-vae.sft"],"color":"#847aa6"},{"id":63,"type":"UNETLoader","pos":[2940,-120],"size":[315,82],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","shape":3,"type":"MODEL","slot_index":0,"links":[82]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"UNETLoader"},"widgets_values":["FLUX\\flux1-FP8-dev.safetensors","fp8_e4m3fn"]},{"id":64,"type":"DualCLIPLoader","pos":[2940,60],"size":[315,122],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"label":"CLIP","localized_name":"CLIP","name":"CLIP","shape":3,"type":"CLIP","slot_index":0,"links":[83]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux","default"]},{"id":60,"type":"EmptyLatentImage","pos":[3180,580],"size":[210,106],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[77]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1],"color":"#b4676b","bgcolor":"#653"},{"id":62,"type":"SaveImage","pos":[3880,-180],"size":[420,600],"flags":{},"order":19,"mode":0,"inputs":[{"label":"图像","localized_name":"图片","name":"images","type":"IMAGE","link":87}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SaveImage"},"widgets_values":["Flux/ComfyUI"],"color":"#84a0bd","bgcolor":"#355"},{"id":47,"type":"ShowText|pysssss","pos":[2200,540],"size":[500,340],"flags":{},"order":13,"mode":0,"inputs":[{"label":"文本","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":72}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","slot_index":0,"links":[90,91]}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":["","A graceful dog perched on a wooden bench in a lush green forest, its fur gleaming with a soft golden hue, and long, floppy ears catching the light from the sun filtering through the trees. The surroundings are a vibrant and harmonious scene, with towering trees casting deep shadows that create interesting patterns on the ground. The forest floor is dotted with fallen leaves, adding a touch of natural beauty to the scene. The dog's tail is wagging excitedly, and its eyes are wide with curiosity, focusing intently on a small stream that trickles below the bench. The stream is crystal-clear, reflecting the golden light from the trees above, while the water glistens softly in the sunlight. The entire scene is bathed in a warm and inviting glow, creating a sense of peace and tranquility."]},{"id":46,"type":"CR Text","pos":[760,240],"size":[430,730],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"label":"文本","localized_name":"text","name":"text","type":"*","slot_index":0,"links":[70,71]},{"label":"显示帮助","localized_name":"show_help","name":"show_help","type":"STRING","links":null}],"properties":{"cnr_id":"ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","Node name for S&R":"CR Text"},"widgets_values":["# FLUX prompt 助理\n\n你来充当一位有艺术气息的FLUX prompt 助理。\n\n## 任务\n\n我用自然语言告诉你要生成的prompt的主题，你的任务是根据这个主题想象一幅完整的画面，然后生成详细的prompt，包含具体的描述、场景、情感和风格等元素，让FLUX可以生成高质量的图像。\n\n## 背景介绍\n\nFLUX是一款利用深度学习的文生图模型，支持通过使用 自然语言 prompt 来产生新的图像，描述要包含或省略的元素。\n\n## Prompt 格式要求\n\n下面我将说明 prompt 的生成步骤，这里的 prompt 可用于描述人物、风景、物体或抽象数字艺术图画。你可以根据需要添加合理的、但不少于5处的画面细节。\n\n**示例：**\n\n- **输入主题**：A dragon soaring above a mountain range.\n  - **生成提示词**：A majestic, emerald-scaled dragon with glowing amber eyes, wings outstretched, soars through a breathtaking vista of snow-capped mountains. The dragon's powerful form dominates the scene, casting a long shadow over the imposing peaks. Below, a cascading waterfall plunges into a deep valley, its spray catching the sunlight in a dazzling array of colors. The dragon's scales shimmer with iridescent hues, reflecting the surrounding natural beauty. The sky is a vibrant blue, dotted with fluffy white clouds, creating a sense of awe and wonder. This dynamic and visually stunning depiction captures the majesty of both the dragon and the mountainous landscape.\n\n- **输入主题**：Explain the process of making a cup of tea.\n  - **生成提示词**：A detailed infographic depicting the step-by-step process of making a cup of tea. The infographic should be visually appealing with clear illustrations and concise text. It should start with a kettle filled with water and end with a steaming cup of tea, highlighting steps like heating the water, selecting tea leaves, brewing the tea, and enjoying the final product. The infographic should be designed to be informative and engaging, with a color scheme that complements the theme of tea. The text should be legible and informative, explaining each step in the process clearly and concisely.\n\n**指导**：\n\n1. **描述细节**：尽量提供具体的细节，如颜色、形状、位置等。\n2. **情感和氛围**：描述场景的情感和氛围，如温暖、神秘、宁静等。\n3. **风格和背景**：说明场景的风格和背景，如卡通风格、未来主义、复古等。\n\n### 3. 限制：\n- 我给你的主题可能是用中文描述，你给出的prompt只用英文。\n- 不要解释你的prompt，直接输出prompt。\n- 不要输出其他任何非prompt字符，只输出prompt，也不要包含 **生成提示词**： 等类似的字符。",[false,true]]}],"links":[[64,38,0,39,0,"CUSTOM"],[65,39,0,40,0,"STRING"],[70,46,0,39,3,"STRING"],[71,46,0,45,1,"STRING"],[72,45,0,47,0,"STRING"],[73,56,0,53,0,"NOISE"],[74,54,0,53,1,"GUIDER"],[75,52,0,53,2,"SAMPLER"],[76,59,0,53,3,"SIGMAS"],[77,60,0,53,4,"LATENT"],[78,57,0,54,0,"MODEL"],[79,58,0,54,1,"CONDITIONING"],[80,53,0,55,0,"LATENT"],[81,61,0,55,1,"VAE"],[82,63,0,57,0,"MODEL"],[83,64,0,58,0,"CLIP"],[86,57,0,59,0,"MODEL"],[87,55,0,62,0,"IMAGE"],[90,47,0,58,1,"STRING"],[91,47,0,58,2,"STRING"]],"groups":[{"id":1,"title":"LLM PARTY API","bounding":[1200,-340,1560,743.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"RH LLM API","bounding":[1200,460,1540,423.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"CG迷 Flux标准工作流","bounding":[2920,-200,914,551],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"采样器","bounding":[2920,380,905,391],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.2839025177495011,"offset":[-450.80594446296243,-403.02801796718165]},"workspace_info":{"id":"fmD__XZpFj36_jkuHASUE"},"node_versions":{"ComfyUI-Custom-Scripts":"d6657cc1f04539dbeea38d7bf6d73bc025004fa4","ComfyUI_Comfyroll_CustomNodes":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","comfy-core":"0.3.18"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"ue_links":[]},"version":0.4}